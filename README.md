
# Аналитический проект: Исследование поведения пользователей игры «Секреты Темнолесья»

*«Секреты Темнолесья» — это онлайн-игра, в которой каждый игрок следует по сюжету своего персонажа, выполняет задания и исследует огромный виртуальный мир.*

**Цель проекта:**
- изучить влияние характеристик игроков и их игровых персонажей на покупку внутриигровой валюты «райские лепестки»;
- оценить активность игроков при совершении внутриигровых покупок.
  
## Содержание аналитического проекта:
1.	Исследовательский анализ данных.
2.	Решение ad hoc задач от коллег из маркетинговой команды игры «Секреты Темнолесья».
3.	Выводы и аналитические комментарии.

Использован SQL в СУБД PostgreSQL с универсальным инструментом для работы с базами данных (СУБД) DBeaver.

[Ссылка на аналитический отчет проекта](https://github.com/marukevichis/Secrets-of-the-Darkwood/blob/main/Analytical_report_of_Darkwood_Secrets_player_behavior.md)

## Раздел 1. Исследовательский анализ данных.

Команде игры важно знать какая доля пользователей покупает игровую валюту за реальные деньги, то есть определяем долю платящих пользователей. Важно также определить и долю пользователей, которые совершают внутриигровые покупки. 

 ### Задание 1. Исследование доли платящих игроков.

Изучим, какую долю составляют игроки, которые приобретают внутриигровую валюту «райские лепестки» за реальные деньги, от общего количества зарегистрированных игроков. Определим также, существует ли взаимосвязь доли платящих игроков от расы выбранного персонажа. 

#### 1.1 Доля платящих пользователей по всем данным.
В данном пункте мы рассчитали  3 основные  метрики  в разрезе платящих пользователей:

- общее количество игроков, зарегистрированных в игре;
- количество платящих игроков;
- доля платящих игроков от общего количества пользователей, зарегистрированных в игре.

✔️ **Результаты расчета и выводы:**

<img width="471" height="56" alt="image" src="https://github.com/user-attachments/assets/2f8853b8-fdf5-451a-8eda-79e8c7387bc0" />

Общее количество игроков составило `22214 человек`, из которых `3929 человек` - это платящие клиенты, что составляет `17,69%`.

#### 1.2. Доля платящих пользователей в разрезе расы персонажа.
В данном подпункте сформированы следующие показатели и метрики:
- раса персонажа;
- количество платящих игроков этой расы;
- общее количество зарегистрированных игроков этой расы;
- доля платящих игроков среди всех зарегистрированных игроков этой расы.
  
✔️ **Результаты расчета и выводы:**

<img width="540" height="188" alt="2026-01-03_14-56-46" src="https://github.com/user-attachments/assets/6d299dc4-fe0e-4709-9433-7bc021fc42b4" />


Доля платящих игроков в целом по игре составляет `17,69%`, как ранее нами было выявленно. Однако этот показатель варьируется в зависимости от выбранной игроком расы:
- Демоны (Demon) демонстрируют самую высокую долю платящих игроков — `19,37%`.
- Хоббиты (Hobbit) находятся на втором месте с долей `18,06%`.
- Для всех остальных рас доля платящих игроков не превышает `17,6%`.
  
Таким образом, выбор расы оказывает влияние на вероятность совершения платежей игроками. Расы Демонов и Хоббитов характеризуются наиболее высоким уровнем монетизации, что может свидетельствовать о специфической механике игры или особенностях баланса сил и сложности игрового процесса именно для этих рас.

## Задание 2. Исследование внутриигровых покупок

Исследуем внутриигровую активность пользователей по покупке эпических предметов за счет игровой валюты «райские лепестки».

### 2.1. Статистические показатели по полю amount:
  В этом подразделе рассчитаем следующие метрики для формирования аналитических выводов:
- общее количество покупок;
- суммарную стоимость всех покупок;
- минимальную и максимальную стоимость покупки;
- среднее значение, медиану и стандартное отклонение стоимости покупки.
  
✔️ **Результаты расчета и выводы:**

<img width="1392" height="98" alt="image" src="https://github.com/user-attachments/assets/ec45a618-b057-4293-a255-432e5b34cff8" />


Всего было совершено `1 307 678 покупки` общей стоимостью `686 615 040  у.е`, при этом самая дорогая покупка составила `486 615.1 у.е`, а вот минимальная `0 y.e.`. Среднее значение стоимости покупки составила `525,69`б а медиана составила - `74,86`, а стандартное отклонение – `2517,35`.
Анализ показывает значительный разрыв между средней и медианной стоимостью покупок, вызванный наличием множества дешёвых и дорогих транзакций. Необходимо дополнительно исследовать причины возникновения минимальных (около нуля) и максимальных покупок, так как они оказывают значительное влияние на статистику и могут указывать на проблемы с качеством данных или особенностями игровой экономики.

#### 2.2. Исследование аномальных покупок.
Посчитаем долю покупок с нулевой стоимостью и исследуем, что за предмет был получен бесплатно.

✔️ **Результаты расчета и выводы:**

<img width="599" height="68" alt="image" src="https://github.com/user-attachments/assets/b44ac2ee-8f39-4ff0-b595-93ce3ce72706" />

Определим предметы с нулевой стоимостью.
  
<img width="427" height="59" alt="image" src="https://github.com/user-attachments/assets/3017af50-d9cb-4c55-ac30-ae8e70bcbd14" />

В выборке обнаружено `907` транзакций `( ≈ 0,07 %)` с нулевой стоимостью и это предмет под названием `“Book of Legends”`, что скорее всего стало результатом какой-либо промо-акции и так далее. Поскольку это незначительная доля от общего объема данных, рекомендуется исключить их из дальнейшего анализа для повышения точности результатов.

#### 2.3. Сравнительный анализ активности платящих и неплатящих игроков.

В данном разделе посчитаем следующие метрики:
- общее количество внутриигровых продаж в абсолютном и относительном значениях. Относительное значение должно быть долей продажи каждого предмета от всех продаж;
- долю игроков, которые хотя бы раз покупали этот предмет, от общего числа внутриигровых покупателей;
- сравнительный анализ активности платящих и неплатящих игроков в разрезе рас.

Результаты отсортируем по популярности эпического предмета среди игроков.

✔️ **Результаты расчета и выводы:**

Общая информация о платящих и неплатящих пользователях.

<img width="717" height="86" alt="image" src="https://github.com/user-attachments/assets/0ffa044d-109d-4210-814c-68e496d50be8" />

По результатам расчета общй информации о пользователях, мы можем определить:

- платящими являются лишь около 20% игроков;
- среднее количество покупок на одного платящего игрока: 81,68, тогда как у неплатящих: 97,56;
- несмотря на меньшую частоту покупок, средний чек платящих значительно выше: 55 467,68 у.е. против 48 588,47 у.е. у неплатящих.Это свидетельствует о том, что игроки, совершающие платежи, тратят значительные средства, хотя делают это реже.

Исследование платящих и неплатящих пользователей в разрезе рас.
    
<img width="872" height="303" alt="image" src="https://github.com/user-attachments/assets/b9063763-717d-404e-a98a-47194b051efa" />

По результатам расчета общй информации о пользователях в зависимости от рас, мы можем определить:
- у неплатящих игроков преобладает раса `Human`: её представители покупают чаще, однако сумма каждой покупки соответствует общему уровню;
- среди платящих игроков выделяется раса `Angel`: её участники совершают больше покупок, чем остальные платящие группы;
- напротив, раса `Northman` демонстрирует наименьшее количество покупок, но зато самые высокие средние чеки.

Таким образом, затраты платящих игроков существенно превышают расходы неплатящих, причем различия заметны даже внутри отдельных рас.

#### 2.4. Популярные эпические предметы.
В данном подпункте рассчитаем следующие метрики, для расчета популярности эпических предметов:
- общее количество продаж, общую сумму продаж и количество уникальных покупателей для каждого предмета;
- общее количество игроков, ограничение  1 млн. человек.

✔️ **Результаты расчета и выводы:**
<img width="1066" height="507" alt="image" src="https://github.com/user-attachments/assets/a4320745-06a2-4ceb-a75e-5cb4d4a46bee" />

Среди 145 представленных эпических предметов выделяются четыре популярных:
- Book of Legends;
- Bag of Holding;
- Necklace of Wisdom.
  
Эти товары приобретают наибольшее количество пользователей, обеспечивая основной доход. Одновременно существует группа из более чем 20 наименований, приобретаемых крайне редко — только единожды. Это снижает общую эффективность ассортимента и доходы.

Предложения по оптимизации ассортимента реализуемых внутриигровых предметов:
- провести детальное исследование востребованных атрибутов популярных товаров («skills»);
- рассмотреть удаление низкоэффективных позиций;
- оптимизировать ассортимент путём модификации характеристик предметов, увеличивающих интерес и привлекательность.

# Раздел 2. Решение ad hoc задач от маркетинговой команды игры «Секреты Темнолесья».

## Задание 1. Исследование зависимость активности игроков от расы персонажа.

Коллеги из аналитического отдела планируют оценить активность игроков по покупке эпических предметов в зависимости от выбора расы персонажа. Цель исследования — проверить предположение о неравномерной сложности прохождения игры разными расами и устранить возможные диспропорции.

Для анализа необходимы следующие метрики по каждой расе:
- количество зарегистрированных игроков;
- число платящих игроков и их процент относительно общего числа зарегистрированных;
- доля платящих игроков среди тех, кто совершил хотя бы одну покупку;
- среднее количество покупок на каждого платящего игрока;
- средняя стоимость одной покупки для платящих игроков;
- суммарная средняя стоимость всех покупок на одного платящего игрока.
  
Важно учесть, что при расчёте показателей исключаются сделки с нулевой стоимостью.

✔️ **Результаты расчета и выводы:**

<img width="1473" height="174" alt="image" src="https://github.com/user-attachments/assets/41b1bde1-b2be-41ef-8ec7-584bd43f944c" />


- больше всего в игре представлено игроков расы `Human`, `Hobbit`, `Orc`. Наибольшее количество покупок совершается представителями расы `Human` — `3 921 покупки`;
- раса оказывает незначительное влияние на долю совершивших покупку и платящих клиентов, доли данных коэффициентов находятся примерно в одном диапазоне;
- совершено покупок одним пользователем  больше всего таких рас как  `Human` (121.402), `Hobbit` (86.129), `Angel` (106.805). Если мы посмотрим на  показатели средней цены и средней суммарной стоимости покупок не отражают максимальные значения среди представителей рас. 

 Таким образом, гипотезу о влиянии расы на сложность прохождения и необходимость покупок следует считать неверной. Игроки разных рас ведут себя схожим образом, проявляя близкую степень вовлечённости в микротранзакции.

## Задание 2. Изучение частота покупок в игре.

Здесь проведем исследвоание активности пользователей в игре, что в дальнейшем может послужить основой для разработки различных маркетинговых стратегий.

✔️ **Результаты расчета и выводы:**

<img width="1061" height="111" alt="image" src="https://github.com/user-attachments/assets/b772353f-b4b9-495d-848a-2aa97cd565bf" />

Мы выделили три равные группы игроков по количеству покупок, каждая из которых включает `2 572 участника`.

Группа `«Высокая частота» `характеризуется максимальной активностью:
- доля платящих клиентов: 16,9% (473 чел.);
- средняя цена покупки: 390,66 у.е;
- интервал между покупками: 3,29 дня
  
Группа `«Умеренная частота»`:
- доля платящих клиентов: 17,5% (450 чел.);
- средняя цена покупки: 58,81 у.е.;
- интервал между покупками: 7,54 дня
  
Группа `«Низкая частота»:`
- доля платящих клиентов: 16,9% (434 чел.);
- средняя цена покупки: 33,64 у.е.;
- интервал между покупками: 13,29 дня

Подводя итог, игроки с высокой частотой покупок отличаются большей регулярностью и объёмом затрат, что положительно сказывается на доходности проекта.

## Выводы и аналитические комментарии

Анализ выявил зависимость между использованием внутренней валюты, расой персонажа и купленными предметами. Игроки, выбравшие расы `Human`, `Hobbit` и `Angel`, склонны совершать больше покупок, что может сигнализировать о необходимости усиления игровых механик для балансировки прогресса персонажей этих рас.

Общее число активных пользователей внутренней валюты невелико, платёжеспособные игроки регулярно осуществляют крупные покупки. Рекомендуется увеличить использование внутренней валюты посредством:

- внедрения премиальной системы поощрений;
- внедрение мероприятия по продвижению тех эмпирических предметов, что обладают высоким спросом, изменить порядок их приобретения;
- реферальной и партнёрской программ;
- упрощения процедуры покупки валюты;
- предоставления дополнительной валюты за выполнение специальных квестов.
Также важно пересмотреть перечень продаваемых эпических предметов, выведя из оборота устаревшие и низкодоходные объекты, и стимулируя продажи наиболее востребованных товаров, предложив скидку при оплате внутренней валютой.
